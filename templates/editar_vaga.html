<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Editar Vaga - Relâmpago</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet"/>
  <link href="{{ url_for('static', filename='styles.css') }}" rel="stylesheet"/>
</head>
<body>
  {% include 'navbar.html' %}

  <div class="container mt-4">
    <h2 class="mb-4 text-center" style="color: var(--vinho-escuro);">Editar Vaga</h2>

    <div class="card shadow-sm mb-4">
      <div class="card-body">
        <form method="POST" enctype="multipart/form-data">
          <input type="hidden" name="vaga_id" value="{{ vaga_id }}">

          <fieldset class="mb-4">
            <legend class="form-section-title">Dados Pessoais</legend>
            <div class="row">
              <div class="col-md-8 mb-3">
                <label for="nome_completo" class="form-label">Nome Completo*</label>
                <input type="text" class="form-control" id="nome_completo" name="nome_completo" value="{{ vaga.dados_pessoais.nome_completo }}" required>
              </div>
              <div class="col-md-4 mb-3">
                <label for="data_nascimento" class="form-label">Data de Nascimento*</label>
                <input type="date" class="form-control" id="data_nascimento" name="data_nascimento" value="{{ vaga.dados_pessoais.data_nascimento }}" required>
              </div>
              <div class="col-md-6 mb-3">
                <label for="cpf" class="form-label">CPF*</label>
                <input type="text" class="form-control" id="cpf" name="cpf" value="{{ vaga.dados_pessoais.cpf }}" required>
              </div>
              <div class="col-md-6 mb-3">
                <label for="estado_civil" class="form-label">Estado Civil</label>
                <input type="text" class="form-control" id="estado_civil" name="estado_civil" value="{{ vaga.dados_pessoais.estado_civil }}">
              </div>
              <div class="col-md-6 mb-3">
                <label for="dependentes" class="form-label">Dependentes</label>
                <input type="number" class="form-control" id="dependentes" name="dependentes" value="{{ vaga.dados_pessoais.dependentes }}">
              </div>
            </div>
          </fieldset>

          <fieldset class="mb-4">
            <legend class="form-section-title">Contato</legend>
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="telefone" class="form-label">Telefone</label>
                <input type="tel" class="form-control" id="telefone" name="telefone" value="{{ vaga.dados_contato.telefone }}">
              </div>
              <div class="col-md-6 mb-3">
                <label for="email" class="form-label">E-mail</label>
                <input type="email" class="form-control" id="email" name="email" value="{{ vaga.dados_contato.email }}">
              </div>
              <div class="col-md-6 mb-3">
                <label for="cep" class="form-label">CEP</label>
                <input type="text" class="form-control" id="cep" name="cep" value="{{ vaga.dados_contato.cep }}">
              </div>
              <div class="col-md-6 mb-3">
                <label for="cidade" class="form-label">Cidade</label>
                <input type="text" class="form-control" id="cidade" name="cidade" value="{{ vaga.dados_contato.cidade }}">
              </div>
              <div class="col-md-6 mb-3">
                <label for="estado" class="form-label">Estado</label>
                <input type="text" class="form-control" id="estado" name="estado" value="{{ vaga.dados_contato.estado }}">
              </div>
            </div>
          </fieldset>

          <fieldset class="mb-4">
            <legend class="form-section-title">Informações Profissionais</legend>
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="area_atuacao" class="form-label">Área de Atuação</label>
                <input type="text" class="form-control" id="area_atuacao" name="area_atuacao" value="{{ vaga.dados_profissionais.area_atuacao }}">
              </div>
              <div class="col-md-6 mb-3">
                <label for="tipo_interesse" class="form-label">Tipo de Interesse</label>
                <input type="text" class="form-control" id="tipo_interesse" name="tipo_interesse" value="{{ vaga.dados_profissionais.tipo_interesse }}">
              </div>
              <div class="col-md-6 mb-3">
                <label for="disponibilidade" class="form-label">Disponibilidade</label>
                <input type="text" class="form-control" id="disponibilidade" name="disponibilidade" value="{{ vaga.dados_profissionais.disponibilidade }}">
              </div>
              <div class="col-md-12 mb-3">
                <label for="experiencia" class="form-label">Experiência Profissional</label>
                <textarea class="form-control" id="experiencia" name="experiencia" rows="3">{{ vaga.dados_profissionais.experiencia }}</textarea>
              </div>
            </div>
          </fieldset>

          <fieldset class="mb-4">
            <legend class="form-section-title">Dados Bancários</legend>
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="banco" class="form-label">Banco</label>
                <input type="text" class="form-control" id="banco" name="banco"
       value="{{ vaga.dados_bancarios.banco if vaga.dados_bancarios else '' }}">
              </div>
              <div class="col-md-3 mb-3">
                <label for="agencia" class="form-label">Agência</label>
                <input type="text" class="form-control" id="agencia" name="agencia" value="{{ vaga.dados_bancarios.agencia }}">
              </div>
              <div class="col-md-3 mb-3">
                <label for="conta" class="form-label">Conta</label>
                <input type="text" class="form-control" id="conta" name="conta" value="{{ vaga.dados_bancarios.conta }}">
              </div>
              <div class="col-md-6 mb-3">
                <label for="pix" class="form-label">Chave PIX</label>
                <input type="text" class="form-control" id="pix" name="pix" value="{{ vaga.dados_bancarios.pix }}">
              </div>
            </div>
          </fieldset>

          <fieldset class="mb-4">
            <legend class="form-section-title">Documentos</legend>
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="rg" class="form-label">RG (Atualizar)</label>
                <input type="file" class="form-control" id="rg" name="rg">
                {% if vaga.arquivos.rg %}
                <small class="text-muted">Documento atual: <a href="{{ url_for('static', filename='uploads/' + vaga.arquivos.rg) }}" target="_blank">Visualizar</a></small>
                {% endif %}
              </div>
              <div class="col-md-6 mb-3">
                <label for="cpf_doc" class="form-label">CPF (Atualizar)</label>
                <input type="file" class="form-control" id="cpf_doc" name="cpf_doc">
                {% if vaga.arquivos.cpf_doc %}
                <small class="text-muted">Documento atual: <a href="{{ url_for('static', filename='uploads/' + vaga.arquivos.cpf_doc) }}" target="_blank">Visualizar</a></small>
                {% endif %}
              </div>
              <div class="col-md-6 mb-3">
                <label for="titulo_eleitor" class="form-label">Título de Eleitor (Atualizar)</label>
                <input type="file" class="form-control" id="titulo_eleitor" name="titulo_eleitor">
                {% if vaga.arquivos.titulo_eleitor %}
                <small class="text-muted">Documento atual: <a href="{{ url_for('static', filename='uploads/' + vaga.arquivos.titulo_eleitor) }}" target="_blank">Visualizar</a></small>
                {% endif %}
              </div>
              <div class="col-md-6 mb-3">
                <label for="ctps" class="form-label">CTPS (Atualizar)</label>
                <input type="file" class="form-control" id="ctps" name="ctps">
                {% if vaga.arquivos.ctps %}
                <small class="text-muted">Documento atual: <a href="{{ url_for('static', filename='uploads/' + vaga.arquivos.ctps) }}" target="_blank">Visualizar</a></small>
                {% endif %}
              </div>
            </div>
          </fieldset>

          <div class="text-center mt-4">
            <button type="submit" class="btn" style="background-color: var(--laranja-destaque); color: white;">
              <i class="bi bi-check-circle"></i> Salvar Alterações
            </button>
            <a href="{{ url_for('banco_vagas') }}" class="btn btn-secondary">
              <i class="bi bi-x-circle"></i> Cancelar
            </a>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>